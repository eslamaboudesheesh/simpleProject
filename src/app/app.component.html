<div id="dashboard" style="max-width:1024px; width:100%; margin:0 auto;">

    <div class="flexcon" style=" margin-bottom:1.5rem;display:flex; flex-direction:row; justify-content: center; ">

        <div class="chart-grid" style=" flex-grow: 1;
         display: flex;justify-content: center; margin-Top: '20px';
                  ">
            <kendo-grid [data]="gridData" [pageSize]="state.take" [skip]="state.skip" [sort]="state.sort"
                [filter]="state.filter" [sortable]="true" [pageable]="true" [filterable]="true"
                (dataStateChange)="dataStateChange($event)">


                <ng-template kendoGridToolbarTemplate [position]="'top'" style="bakground-color:yellow !important">
                    <div class="grid-header-content" style="position: relative;">
                        <h5 style="color:#066980">ALL Products</h5>
                        <!-- <div>
                    <input type="text" (keyup)="onKeyActiveTrips($event)" placeholder="Fillter">
                    <i class="fas fa-search searchIcon"></i>
                  </div> -->

                        <button class="btn button-add" (click)="open()"> add + </button>

                    </div>
                </ng-template>


                <kendo-grid-column field="id" title="ID" width="40" [sortable]="true" [filterable]="false">
                </kendo-grid-column>
                <kendo-grid-column field="name" title="product name" width="180" [filterable]="true">
                </kendo-grid-column>
                <kendo-grid-column field="hint" title="productDescription" width="180" [filterable]="false">
                </kendo-grid-column>
                <kendo-grid-column field="quantity" title="quantity" width="100" filter="date" format="{0:d}"
                    [filterable]="false" [sortable]="true">
                </kendo-grid-column>

                <kendo-grid-column field="TradePricePicese" title="price for pices" width="120" filter="numeric"
                    format="{0:c}" [filterable]="false">
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <span>{{ dataItem.TradePricePicese  | currency:' LE ' }}</span>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column field="TradepriceTotal" title="total tradePrice" width="180" [filterable]="false">
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <span>{{dataItem.quantity * dataItem.TradePricePicese   | currency:' LE ' }}</span>
                    </ng-template>
                </kendo-grid-column>


                <kendo-grid-column field="priceForPicese" title="price for pices" width="120" filter="numeric"
                    format="{0:c}" [filterable]="false">
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <span>{{ dataItem.priceForPicese  | currency:' LE ' }}</span>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column field="priceTotal" title="total tradePrice" [filterable]="false" width="180">
                    <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                        <span>{{dataItem.quantity * dataItem.priceForPicese   | currency:' LE ' }}</span>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column field="Actions" [filterable]="false" [sortable]="false" width="80">

                    <ng-template kendoGridCellTemplate let-dataItem>


                        <i class="k-icon k-i-pencil" style="cursor: pointer ; color: #aed524 ; margin-right: 20px"
                            title="Edit Request/Quotation" (click)="editOpen(dataItem)"></i>
                        <i class="k-icon k-i-close-circle " style="cursor: pointer ; color: red" title="Delete Request"
                            (click)="deleteCompanyRow(dataItem.ID)"></i>

                    </ng-template>

                </kendo-grid-column>



            </kendo-grid>
            <div *ngIf="loading" class="k-i-loading"></div>
        </div>
    </div>
</div>



<kendo-dialog [title]=Dialogheader *ngIf="dialogOpened" (close)="close()" [minWidth]="250" [width]="450">
    <form #form="ngForm" [ngClass]="{submitted:isSubmit}" class="k-form frominput">

        <div *ngIf="addModeDialoge">
            <div class="col-xs-12 col-sm-6 example-col">
                <kendo-textbox-container class="k-textbox-container">
                    <label class="k-form-field">
                        <span> Name</span>
                        <input kendoTextBox name="name" placeholder="Add Project" [(ngModel)]="selectedObj.name"
                            class="k-textbox addnameInput" required />
                    </label>
                </kendo-textbox-container>
            </div>
        </div>

        <div *ngIf="!addModeDialoge">
            <div class="col-xs-12 col-sm-6 example-col">
                <kendo-textbox-container class="k-textbox-container">
                    <label class="k-form-field">
                        <span> Name</span>
                        <input kendoTextBox name="name" placeholder="Add Project" [(ngModel)]="selectedObj.name"
                            class="k-textbox addnameInput" />
                    </label>
                </kendo-textbox-container>

                
                <kendo-textbox-container class="k-textbox-container">
                        <label class="k-form-field">
                            <span> hint</span>
                            <input kendoTextBox name="priceForPicese" placeholder="Add Project" [(ngModel)]="selectedObj.hint"
                                class="k-textbox addnameInput" />
                        </label>
                    </kendo-textbox-container>

                <kendo-textbox-container class="k-textbox-container">
                        <label class="k-form-field">
                            <span> TradePricePicese</span>
                            <input kendoTextBox name="TradePricePicese" placeholder="Add Project" [(ngModel)]="selectedObj.TradePricePicese"
                                class="k-textbox addnameInput" />
                        </label>
                    </kendo-textbox-container>
                    <kendo-textbox-container class="k-textbox-container">
                            <label class="k-form-field">
                                <span> quantity</span>
                                <input kendoTextBox name="quantity" placeholder="Add Project" [(ngModel)]="selectedObj.quantity"
                                    class="k-textbox addnameInput" />
                            </label>
                        </kendo-textbox-container>


                        <kendo-textbox-container class="k-textbox-container">
                                <label class="k-form-field">
                                    <span> TradepriceTotal</span>
                                    <input kendoTextBox name="TradepriceTotal" placeholder="Add Project" [(ngModel)]="selectedObj.TradepriceTotal"
                                        class="k-textbox addnameInput"  disabled/>
                                </label>
                            </kendo-textbox-container>


                            <kendo-textbox-container class="k-textbox-container">
                                    <label class="k-form-field">
                                        <span> priceForPicese</span>
                                        <input kendoTextBox name="priceForPicese" placeholder="Add Project" [(ngModel)]="selectedObj.priceForPicese"
                                            class="k-textbox addnameInput" />
                                    </label>
                                </kendo-textbox-container>

                                <kendo-textbox-container class="k-textbox-container">
                                        <label class="k-form-field">
                                            <span> priceTotal</span>
                                            <input kendoTextBox name="priceTotal" placeholder="Add Project" [(ngModel)]="selectedObj.priceTotal"
                                                class="k-textbox addnameInput" disabled/>
                                        </label>
                                    </kendo-textbox-container>

            </div>
        </div>


        <kendo-dialog-actions *ngIf="addModeDialoge">
            <button kendoButton (click)="close()">Cancel</button>
            <button kendoButton (click)="addEditeToProject(form )" primary="true" type="submit">Save</button>
        </kendo-dialog-actions>

        <kendo-dialog-actions *ngIf="!addModeDialoge">
            <button kendoButton (click)="close()">Cancel</button>
            <button kendoButton (click)="updataProject(form )" primary="true">Save</button>
        </kendo-dialog-actions>
    </form>
</kendo-dialog>